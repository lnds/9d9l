# Steely Dan y la perfección del sonido

Durante la década de 1970 y parte de la década de 1980, Donald Fagen y Walter Becker, los fundadores de Steely Dan, aparte de ser reconocidos como grandes músicos y compositores, adquirieron fama por su excesivo perfeccionismo. Se dice, pero no he encontrado evidencia, que en uno de sus álbumes pidieron excusas por la calidad de la grabación, la que no cumplía con sus altos estándares de calidad. Esta obsesión se notó, por ejemplo, en la producción del album Gaucho, para el cual terminaron trabajando con  con 42 diferentes músicos para producir el séptimo álbum de la banda. En un momento contrataron nada menos que a Mark Knopfler, lider de Dire Straits, para que aportara con un solo de guitarra. Fagen y Becker quedaron impresionados después de escuchar Sultans of Swing, e invirtieron el dinero que no tenían para contar con Kopfler en el disco, después de varias horas de grabación lo que quedó fueron unos segundos que se escuchan al inicio de la canción "Time Out of Mind".

La perfección es inalcanzable, por supuesto, pero no quita que nos obsesionemos por tratar de lograrla. Para Dijkstra, por ejemplo, la perfección en el código estaba en la belleza y elegancia del mismo. ¿Pero qué hay del desempeño del software? Quizá el programa más elegante no es el más eficiente en tiempo de ejecución.

Durante la grabación de "Katty Lied"[1], Fagen y Becker experimentaron una de las mayores frustraciones de su historia. La tecnología que eligieron para grabar, aún siendo de vanguardia, falló causando una serie de inconvenientes técnicos. Al grado que abandonaron el proceso de edición y se rehusaron a escuchar el producto final. Fue el guitarrista Denny Dias quien se encargó de terminar el proceso de edición, en una heroica jornada (documentada acá[http://steelydan.com/dennys3.html]).

Uno de los problemas que enfrentaron, después de corregir el sonido de las cintas, fue que al transferir la grabación al vinilo notaron que la calidad se deterioraba. Otro problema es que el sonido no era el mismo y dependía del reproductor. Fue que tuvieron que volver a trabajar en la mezcla para lograr un sonido que fuera reproducible en un "fonógrafo promedio". Una tarea que resultó imposible, así que terminaron conformándose con lograr que el disco fuera aceptable para la mayor cantidad de reproductores.

En el desarrollo de software nos topamos con problemas similares, nuestro programa debe ser compatible con diversos ambientes, sistemas operativos, dispositivos, tipos de CPU, etc. Cómo lograr un desempeño adecuado en cada uno de los ambientes es un desafío análogo al que tuvieron que enfrentar estos ingenieros de sonido.

# Optimizar hasta que no duela

"La optimización prematura es la raíz de todo mal", es la cita de Donald Knuth más mencionada cuando hablamos de optimizar código. En realidad la cita completa dice lo siguiente:

"No hay duda que el grial de la eficiencia lleva al abuso. Los programadores gastan una enorme cantidad de tiempo pensando, o preocupándose, de la velocidad de secciones no críticas de sus programas, y esos intentos de eficiencia en realidad tienen impactos negativos fuertes cuando consideramos la depuración y mantención. Deberíamos olvidar pequeñas optimizaciones, digamos el 97% del tiempo: la optimización prematura es la raíz de todo mal. 

Pero aún así no deberíamos dejar pasar nuestras oportunidades en ese 3% crítico. un buen programador no debe ser arullado por la complacencia ante tal razonamiento, debe ser sabio para mirar cuidadosamente al código crítico, pero sólo después que este código ha sido identificado. A menudo es un error hacer juicios a priori sobre las partes de un programa que son realmente críticas, puesto que la experiencia universal de los programadores que han usado herramientes de medición ha sido que sus intuiciones a menudo fallan." [2]


Notas

[1] Katty Lied es el cuarto álbum de estudio de Steely Dan. Entre otras cosas se destaca por contar con la participación por primera vez de Michael McDonald en los coros y del gran baterista, y fundador de Toto, Jeff porcaro, que en ese tiempo tenía apenas 20 años de edad.

[2] Structured Programming with Goto Statements, hay una copia del artículo acá: http://web.archive.org/web/20130731202547/http://pplab.snu.ac.kr/courses/adv_pl05/papers/p261-knuth.pdf

Nota: Este artículo corresponde a la tercera etapa de mi desafío de aprender 9 lenguajes de programación a través de nueve desafíos. 
Si quieres saber más sobre este proyecto lee acá: http://www.lnds.net/blog/lnds/2016/1/9/esos-raros-lenguajes-nuevos

